  <form (ngSubmit)="onSubmit()" #tcForm="ngForm">

    <div class="test-card">
      <div class="header-group">
        <span class="badges">TC-{{testcasemodel?.id || 'NEW'}}</span>
        <mat-error class="text-center" *ngIf="errorMessage">{{ errorMessage }}</mat-error>
      </div>
      <mat-card class="test-card">
        <div class="form-group">
          <label for="name">Title</label>
          <input type="text" class="form-control" id="name"
                    required
                    [(ngModel)]="testcasemodel.title"
                    name="name"
                    #name="ngModel"/>
          <div [hidden]="name.valid || name.pristine"
               class="alert alert-danger">
            Test Case Name is required
          </div>
        </div>

        <div class="form-group">
          <label for="status">Status</label>
          <select class="form-control" id="status"
                  required
                  [(ngModel)]="testcasemodel.status"
                  name="status"
                  #status="ngModel">
            <option *ngFor="let pow of statuses" [value]="pow">{{pow}}</option>
          </select>
          <div [hidden]="status.valid || status.pristine" class="alert alert-danger">
            status is required
          </div>
        </div>

        <div class="form-group">
          <mat-form-field class="chip-list">
            <label for="status">Labels</label>
            <mat-chip-list #chipList id="labels">
              <mat-chip
                *ngFor="let label of testcasemodel?.labels"
                [selectable]="true"
                [removable]="true"
                (removed)="remove(label)">
                {{label}}
                <mat-icon matChipRemove>cancel</mat-icon>
              </mat-chip>
              <input
                #labelInput
                [formControl]="labelCtrl"
                [matAutocomplete]="auto"
                [matChipInputFor]="chipList"
                [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                [matChipInputAddOnBlur]="true"
                (matChipInputTokenEnd)="add($event)">
            </mat-chip-list>
            <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
              <mat-option *ngFor="let label of filteredLabels$ | async" [value]="label">
                {{label}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>

        </div>
      </mat-card>

      <mat-card class="test-card">
        <div class="form-group">
          <label for="description">Description</label>
          <textarea type="text" class="form-control" id="description"
                    [(ngModel)]="testcasemodel.description" name="description"></textarea>
        </div>
      </mat-card>

      <mat-card class="test-card">
        <div class="form-group">
          <label for="step">Steps</label>
          <textarea type="text" class="form-control" id="step"
                    *ngFor="let step of testcasemodel.steps; index as i">{{step.step}}</textarea>
        </div>
      </mat-card>

      <mat-card-actions>
        <button id="submitBtn" mat-button [disabled]="!tcForm.form.valid">Submit</button>
        <button id="cancelBtn" mat-button [routerLink]="testcasemodel.id ? ['/cases', testcasemodel.id] : ['/project', projectId, 'cases']">Cancel</button>
      </mat-card-actions>
    </div>
  </form>
